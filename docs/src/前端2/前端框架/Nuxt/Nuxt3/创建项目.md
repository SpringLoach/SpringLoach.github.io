## 创建项目

```elm
npm create nuxt <项目名称>
```



## 配置

### Nuxt配置

文件位于 Nuxt 项目的根目录，可以覆盖或扩展应用程序的行为。

`nuxt.config.ts` 

```javascript
export default defineNuxtConfig({
  // 某些配置
})
```



#### 变量的定义和使用

将环境变量等值暴露给应用程序的其余部分，可以使用环境变量进行覆盖。

**定义**

定义的键仅在服务器端可用，在 `public` 下的键也暴露给客户端

`nuxt.config.ts`

```javascript
export default defineNuxtConfig({
  runtimeConfig: {
    // 仅在服务器端可用的私有键
    apiSecret: '123',
    // public 中的键也暴露给客户端
    public: {
      apiBase: '/api'
    }
  }
})
```

**使用**

`pages/index.vue`

```html
<script setup lang="ts">
const runtimeConfig = useRuntimeConfig()
</script>
```



### 应用程序配置

#### 变量的定义和使用

用于暴露可以在构建时确定的公共变量，无法使用环境变量进行覆盖。 

**定义**

`app.config.ts`

```javascript
export default defineAppConfig({
  title: 'Hello Nuxt',
  theme: {
    dark: true,
    colors: {
      primary: '#ff0000'
    }
  }
})
```

**使用**

`pages/index.vue`

```html
<script setup lang="ts">
const appConfig = useAppConfig()
</script>
```

**变量使用指南**

如上所述，`runtimeConfig` 和 `app.config` 都用于将变量暴露给应用程序的其余部分。以下是使用指南：

- `runtimeConfig`：需要在构建后使用环境变量指定的私有或公共令牌。
- `app.config`：在构建时确定的公共令牌，网站配置如主题变体、标题以及任何不敏感的项目配置。



### 外部程序配置

Nuxt 使用 `nuxt.config.ts` 文件作为配置的单一来源，并跳过读取外部配置文件。 下面的表格突出显示了常见的配置，以及在适用时如何使用 Nuxt 进行配置。

| 名称                                | 配置文件            | 如何配置                                                     |
| :---------------------------------- | :------------------ | :----------------------------------------------------------- |
| [Nitro](https://nitro.zhcndoc.com/) | `nitro.config.ts`   | 在 `nuxt.config` 中使用 [`nitro`](https://nuxt.zhcndoc.com/docs/api/nuxt-config#nitro) 键 |
| [PostCSS](https://postcss.org/)     | `postcss.config.js` | 在 `nuxt.config` 中使用 [`postcss`](https://nuxt.zhcndoc.com/docs/api/nuxt-config#postcss) 键 |
| [Vite](https://vite.zhcndoc.com/)   | `vite.config.ts`    | 在 `nuxt.config` 中使用 [`vite`](https://nuxt.zhcndoc.com/docs/api/nuxt-config#vite) 键 |
| [webpack](https://webpack.js.org/)  | `webpack.config.ts` | 在 `nuxt.config` 中使用 [`webpack`](https://nuxt.zhcndoc.com/docs/api/nuxt-config#webpack-1) 键 |



## 视图

| 概念    | 默认文件   | 特点                                               |
| ------- | ---------- | -------------------------------------------------- |
| app.vue | app.vue    | 默认的**入口**，为应用程序的每个路由渲染该内容     |
| 组件    | component/ | 创建后自动可用，无须显式导入                       |
| 页面    | pages/     | 目录中的每个文件代表一个不同的路由，展示其内容     |
| 布局    | layouts/   | 围绕页面的包装器，包含公共界面内容，比如头部和底部 |
|         |            | 布局是使用 `<slot />` 组件的 Vue 文件              |
|         |            | `layouts/default.vue` 文件将默认使用               |

要使用页面

- 创建 `pages/index.vue` 文件，并将 `<NuxtPage />` 组件添加到 `app.vue` 中
- 或删除 `app.vue` 以使用默认入口。



## 资源管理

Nuxt 使用两个目录来处理样式表、字体或图像等资源。

| 命名     | 目录      | 说明                                              |
| -------- | --------- | ------------------------------------------------- |
| 公共目录 | `public/` | 内容将原样存在于服务器根目录                      |
| 资源目录 | `assets/` | 包含期望使用构建工具（Vite 或 webpack）处理的资源 |

**获取资源语法**

公共目录

```elm
- public
  + img
    - xx.png
```

```html
<template>
  <img src="/img/nuxt.png" alt="发现 Nuxt" />
</template>
```

资源目录

```elm
- assets
  + img
    - xx.png
```

```html
<template>
  <img src="~/assets/img/nuxt.png" alt="发现 Nuxt" />
</template>
```



## 样式设置

### 本地样式表

本地样式应该放在 `assets/` 目录下。



#### 导入到全局

`nuxt.config.ts`

```javascript
export default defineNuxtConfig({
  css: ['~/assets/css/main.css']
})
```



#### 导入到组件

`pages/index.vue`

```html
<script>
// 使用静态导入以确保服务器端兼容
import '~/assets/css/first.css'

// 注意：动态导入在服务器端不兼容
import('~/assets/css/first.css')
</script>

<style>
@import url("~/assets/css/second.css");
</style>
```



#### 使用字体

将本地字体文件放在 `~/public/` 目录中，例如在 `~/public/fonts` 中。之后就可以在样式表中使用 `url()` 引用它们。

`assets/css/main.css`

```css
@font-face {
  font-family: 'FarAwayGalaxy';
  src: url('/fonts/FarAwayGalaxy.woff') format('woff');
  font-weight: normal;
  font-style: normal;
  font-display: swap;
}
```

可以在样式表、页面或组件中按名称引用：

```vue
<style>
h1 {
  font-family: 'FarAwayGalaxy', sans-serif;
}
</style>
```



#### 导入npm的样式

```shell
npm install animate.css
```

导入到组件

```html
<script>
import 'animate.css'
</script>

<style>
@import url("animate.css");
</style>
```

导入到全局

```javascript
export default defineNuxtConfig({
  css: ['animate.css']
})
```



### 使用预处理器

需要自行安装

```shell
npm install -D sass
```

编写样式表的位置一般是 `assets` 。

导入到组件

```html
<style lang="scss">
@use "~/assets/scss/main.scss"; // 使用预处理器的语法导入源文件
</style>
```

导入到全局

```javascript
export default defineNuxtConfig({
  css: ['~/assets/scss/main.scss']
})
```



### 单文件组件样式

支持 Vue 中的单文件组件（SFC）[样式](https://nuxt.zhcndoc.com/docs/getting-started/styling#%E5%8D%95%E6%96%87%E4%BB%B6%E7%BB%84%E4%BB%B6sfc%E6%A0%B7%E5%BC%8F)，如类和样式绑定、使用 `v-bind` 的动态样式、`Scoped` 样式等。



## 路由

Nuxt 文件系统路由为 `pages/` 目录中的每个文件创建一个路由。

### 页面

Nuxt 路由基于 `vue-router`，并从 `pages/` 目录中创建的每个组件生成路由，路由的生成基于<span style="color: green">文件名</span>。

### 导航

`NuxtLink` 组件用于链接各页面。它渲染一个 `<a>` 标签，`href` 属性设置为页面的路由。

通过更新浏览器URL实现页面过渡（防止页面刷新），且自带预解析功能。

```html
<template>
  <header>
    <nav>
      <ul>
        <li><NuxtLink to="/about">关于</NuxtLink></li>
        <li><NuxtLink to="/posts/1">帖子 1</NuxtLink></li>
        <li><NuxtLink to="/posts/2">帖子 2</NuxtLink></li>
      </ul>
    </nav>
  </header>
</template>
```

### 路由参数

```html
<script setup lang="ts">
const route = useRoute() // 通过 useRoute()访问当前路由的详细信息

// 当访问 /posts/1 时，route.params.id 将为 1
console.log(route.params.id)
</script>
```

### 路由中间件和路由验证

利用这些特性可以进行权限判断、路由参数校验等。













