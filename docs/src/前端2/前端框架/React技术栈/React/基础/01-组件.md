## é‡è¦

### æ„å»ºç»„ä»¶

| æ­¥éª¤     | è¯´æ˜                                                     |
| -------- | -------------------------------------------------------- |
| æ¦‚å¿µ     | React ç»„ä»¶æ˜¯ä¸€æ®µå¯ä»¥ ä½¿ç”¨æ ‡ç­¾è¿›è¡Œæ‰©å±• çš„ JavaScript å‡½æ•° |
| å®šä¹‰å‡½æ•° | ç»„ä»¶çš„åç§°å¿…é¡»ä»¥å¤§å†™å­—æ¯å¼€å¤´                             |
|          | å°å†™å­—æ¯å¼€å¤´çš„ç»„ä»¶è¢«è§†ä¸ºåŸç”Ÿ DOM æ ‡ç­¾                    |
| æ·»åŠ æ ‡ç­¾ | åœ¨ js ä¸­åµŒå…¥æ ‡ç­¾ï¼Œå³ JSX è¯­æ³•                            |
| æ·»åŠ æ ‡ç­¾ | è¿”å›è¯­å¥ä¸æ ‡ç­¾å¯ä»¥å…¨å†™åœ¨ä¸€è¡Œä¸Š                           |
| æ·»åŠ æ ‡ç­¾ | å¦‚æœæ ‡ç­¾å’Œ `return` ä¸åœ¨ä¸€è¡Œï¼Œå¿…é¡»ç”¨ `()` åŒ…è£¹æ ‡ç­¾       |



:::code-group

```[åŒè¡Œè¿”å›]javascript
export default function Profile() {
  return <img src="https://i.imgur.com/MK3eW3Am.jpg" alt="Katherine Johnson" />
}
```

```[éåŒè¡Œè¿”å›Ã—]jsx
export default function Profile() {
  return 
    (
      <img
        src="https://i.imgur.com/MK3eW3Am.jpg"
        alt="Katherine Johnson"
      />
    )
}
```

```[éåŒè¡Œè¿”å›âˆš]javascript
export default function Profile() {
  return (
    <img
      src="https://i.imgur.com/MK3eW3Am.jpg"
      alt="Katherine Johnson"
    />
  )
}
```

:::



### ä½¿ç”¨ç»„ä»¶

| ç‰¹ç‚¹           | è¯´æ˜                                                 |
| -------------- | ---------------------------------------------------- |
| å¤šæ¬¡ä½¿ç”¨       | å¯ä»¥åªå®šä¹‰ç»„ä»¶ä¸€æ¬¡ï¼Œç„¶åæŒ‰éœ€å¤šå¤„å’Œå¤šæ¬¡ä½¿ç”¨           |
| å°å†™å¼€å¤´æ ‡ç­¾   | æŒ‡ HTML æ ‡ç­¾                                         |
| å¤§å†™å¼€å¤´æ ‡ç­¾   | æŒ‡ç»„ä»¶                                               |
| å•ä¸ªæ–‡ä»¶å¤šç»„ä»¶ | é€‚ç”¨äºç»„ä»¶ç›¸å¯¹è¾ƒå°æˆ–å½¼æ­¤ç´§å¯†ç›¸å…³æ—¶                   |
| åµŒå¥—å®šä¹‰       | ä¸èƒ½åœ¨ç»„ä»¶å†…éƒ¨å®šä¹‰å…¶ä»–ç»„ä»¶ï¼šä»£ç éå¸¸æ…¢ï¼Œä¸”ä¼šå¯¼è‡´ bug |

```jsx
function Profile() {
  return (
    <img
      src="https://i.imgur.com/MK3eW3As.jpg"
      alt="Katherine Johnson"
    />
  );
}

export default function Gallery() {
  return (
    <section>
      <h1>äº†ä¸èµ·çš„ç§‘å­¦å®¶</h1>
      <Profile />
      <Profile />
      <Profile />
    </section>
  );
}
```



**é¿å…åµŒå¥—å£°æ˜**

:::code-group

```[é”™è¯¯æ–¹å¼]jsx
export default function Gallery() {
  // ğŸ”´ æ°¸è¿œä¸è¦åœ¨ç»„ä»¶ä¸­å®šä¹‰ç»„ä»¶
  function Profile() { // [!code warning]
    // ... // [!code warning]
  } // [!code warning]
  // ...
}
```

```[æ­£ç¡®æ–¹å¼]jsx
export default function Gallery() {
  // ...
}

// âœ… åœ¨é¡¶å±‚å£°æ˜ç»„ä»¶
function Profile() {  // [!code warning]
  // ...  // [!code warning]
}  // [!code warning]
```

:::



### å¯¼å‡ºç»„ä»¶

| ç‰¹ç‚¹       | è¯´æ˜                                                     |
| ---------- | -------------------------------------------------------- |
| æ ¹ç»„ä»¶æ–‡ä»¶ | ä½¿ç”¨ React æ„å»ºçš„åº”ç”¨é€šå¸¸åªæœ‰å•ä¸€çš„æ ¹ DOM èŠ‚ç‚¹           |
|            | å¤§éƒ¨åˆ†æ¡†æ¶ä¸­éƒ½æ˜¯æŒ‡ `APP.js`                              |
|            | å¯ä»¥ä¿®æ”¹é¡¹ç›®é…ç½®ï¼Œä»è€Œä¿®æ”¹åˆ°å…¶ä»–æ–‡ä»¶                     |
|            | å¦‚ Next.jsï¼ŒåŸºäºæ–‡ä»¶è¿›è¡Œè·¯ç”±ï¼Œæ¯ä¸ªé¡µé¢çš„æ ¹ç»„ä»¶éƒ½ä¼šä¸ä¸€æ · |
| å¯¼å‡ºé£æ ¼   | å…·åå¯¼å‡ºå®ç°ä¸€ä¸ªæ–‡ä»¶å†…å¤šä¸ªç»„ä»¶å¯¼å‡º                       |
| å¯¼å‡ºé£æ ¼   | é»˜è®¤å¯¼å‡ºå®ç°ä¸€ä¸ªæ–‡ä»¶å†…å•ä¸ªç»„ä»¶å¯¼å‡ºï¼ˆå…·åå¯¼å‡ºä¹Ÿå¯ä»¥ï¼‰     |



### ç¼“å­˜ç»„ä»¶

:::code-group

```[é»˜è®¤-æ— ç¼“å­˜]jsx
import { useState } from "react"

export default function App() {
  const [count, setCount] = useState(0)
  return (
    <>
      { count }
      <div onClick={() => {setCount(c => c + 1)}}>+1</div>
      <MemoHeader />
    </>
  )
}

const MemoHeader = function Header() {
  console.log(123) // æ¯æ¬¡ç‚¹å‡»æŒ‰é’®éƒ½ä¼šè§¦å‘ // [!code warning]
  return <h2>æˆ‘æ˜¯Headerç»„ä»¶</h2>
}
```

```[ç¼“å­˜ç»„ä»¶]jsx
import { useState, memo } from "react" // [!code warning]

export default function App() {
  const [count, setCount] = useState(0)
  return (
    <>
      { count }
      <div onClick={() => {setCount(c => c + 1)}}>+1</div>
      <MemoHeader />
    </>
  )
}

const MemoHeader = memo(function Header() { // [!code warning]
  console.log(123) // ç‚¹å‡»æŒ‰é’®ä¸ä¼šå¯¼è‡´è§¦å‘ // [!code warning]
  return <h2>æˆ‘æ˜¯Headerç»„ä»¶</h2>
}) // [!code warning]
```

:::

:ghost: è¦æƒ³æ§åˆ¶å‡½æ•°å¼ç»„ä»¶çš„é‡æ–°æ¸²æŸ“ï¼Œå¯ä»¥å¼•å…¥ memo æ–¹æ³•ï¼›ç”¨å®ƒåŒ…è£¹åŸæœ‰ç»„ä»¶ï¼Œè¿”å›çš„å˜é‡ä½œä¸ºç»„ä»¶ä½¿ç”¨ã€‚

:ghost: åªæœ‰è‡ªèº«çš„ props æˆ– state å‘ç”Ÿå˜åŒ–æ—¶ï¼ˆæµ…å±‚æ¯”è¾ƒï¼‰ï¼Œæ‰ä¼šè§¦å‘ç»„ä»¶çš„é‡æ–°æ¸²æŸ“ã€‚



## æ¬¡è¦

### æ ¹ç»„ä»¶

```jsx
<div id="root"></div>

<script>
ReactDOM.render(
  <h1>Hello, world!</h1>,
  document.getElementById('root')
);
</script>

/* ç­‰ä»·äºä¸Šé¢çš„ä»£ç  */
<script>
const element = <h1>Hello, world</h1>;
ReactDOM.render(element, document.getElementById('root'));
</script>
```



### æå–ç»„ä»¶

> è¿™æ˜¯ä¸€ä¸ªä¼˜åŒ–è¡Œä¸ºï¼šå°†ç»„ä»¶æ‹†åˆ†ä¸ºæ›´å°çš„ç»„ä»¶ï¼Œç”¨äºå‡å°‘æ ‡ç­¾çš„åµŒå¥—ï¼Œæ˜“äºç»´æŠ¤åŠå¤ç”¨ã€‚

`å¾…æ‹†è§£`

```jsx
function Comment(props) {
  return (
    <div className="Comment">
      <div className="UserInfo">
        <img className="Avatar"
          src={props.author.avatarUrl}
          alt={props.author.name}
        />
        <div className="UserInfo-name">
          {props.author.name}
        </div>
      </div>
      <div className="Comment-text">
        {props.text}
      </div>
      <div className="Comment-date">
        {formatDate(props.date)}
      </div>
    </div>
  );
}
```

`æ‹†è§£å`

> å»ºè®®ä»ç»„ä»¶è‡ªèº«çš„è§’åº¦å‘½å propsï¼Œè€Œä¸æ˜¯ä¾èµ–äºè°ƒç”¨ç»„ä»¶çš„ä¸Šä¸‹æ–‡å‘½åã€‚

```jsx
function Comment(props) {
  return (
    <div className="Comment">
      <UserInfo user={props.author} />
      <div className="Comment-text">
        {props.text}
      </div>
      <div className="Comment-date">
        {formatDate(props.date)}
      </div>
    </div>
  );
}

function UserInfo(props) {
  return (
    <div className="UserInfo">
      <Avatar user={props.user} />
      <div className="UserInfo-name">
        {props.user.name}
      </div>
    </div>
  );
}

function Avatar(props) {
  return (
    <img className="Avatar"
      src={props.user.avatarUrl}
      alt={props.user.name}
    />
  );
}
```

:star2: `props` çš„å€¼æ˜¯é€šè¿‡å±æ€§åå»è·å–çš„ï¼Œæ‰€ä»¥ä¸éœ€è¦æ‹…å¿ƒæ›´ååè·å–ä¸åˆ°å€¼çš„é—®é¢˜ã€‚
